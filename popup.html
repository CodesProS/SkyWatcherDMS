<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title> Add a Record </title>
  <link rel="stylesheet" href="pop.css">
</head>
<body>

  <div class="container">
    <div class="title">Submit</div>
    <div class="content">
      <form action="popup.php" method="POST" id="submitform">
        <input type="hidden" name="action" value="Weather Details" id="a">
        <input type="hidden" name="iconcode" value="0" id="iconc">
        <div class="user-details">
        
          <div class="input-box" id="temp">
            <span class="details">Temperature (C)</span>
            <input type="number" placeholder="Temp" name="temp">
          </div>

          <div class="input-box" id="humid">
            <span class="details">Humidity</span>
            <input type="number" placeholder="Humidity" name="humid">
          </div>

          <div class="input-box" id="windspeed">
            <span class="details">Wind Speed</span>
            <input type="number" placeholder="Wind Speed" name="windspeed">
          </div>

          <div class="input-box" id="countryname">
            <span class="details">Country Name</span>
            <input type="name" placeholder="Country Name" name="countryname">
          </div>

          <div class="input-box" id="latitude">
            <span class="details">Latitude</span>
            <input type="number" step="0.02" placeholder="Latitutde" name="latitude">
          </div>

          <div class="input-box" id="longitude">
            <span class="details">Longitude</span>
            <input type="number" step="0.01" placeholder="Longitude" name="longitude">
          </div>

          <div class="input-box" id="countryid">
            <span class="details">CountryID</span>
            <input type="number" placeholder="Country ID" name="countryid">
          </div>

          <div class="input-box" id="timeselect">
            <span class="details">Time</span>
            <input type="time" placeholder="Time" name="timeselect">
          </div>

          <div class="input-box" id="state">
            <span class="details">State</span>
            <input type="name" placeholder="State" name="state">
          </div>

          <div class="input-box" id="cityname">
            <span class="details">City Name</span>
            <input type="name" placeholder="City Name" name="cityname">
          </div>

          <div class="input-box" id="cloud">
            <span class="details">Cloudiness %</span>
            <input type="number" placeholder="Cloudiness %" name="cloudiness">
          </div>

          <div class="input-box" id="visible">
            <span class="details">Visibility</span>
            <input type="number" placeholder="Visibility" name="visibility">
          </div>

          <div class="input-box" id="pressure">
            <span class="details">Atmospheric Pressure</span>
            <input type="number" placeholder="Atmospheric Pressure" name="pressure">
          </div>

          <div class="input-box" id="cityid">
            <span class="details">CityID</span>
            <input type="number" placeholder="CityID" name="cityid">
          </div>

          <div class="input-box" id="conditionid">
            <span class="details">ConditionID</span>
            <input type="number" placeholder="ConditionID" name="conditionid">
          </div>

          <div class="input-box" id="weatherid">
            <span class="details">WeatherID</span>
            <input type="number" placeholder="WeatherID" name="weatherid">
          </div>

          <div class="input-box" id="date">
            <span class="details">Date</span>
            <input type="date" placeholder="" name="wdate">
          </div>

          <div class="input-box" id="username">
            <span class="details">Username</span>
            <input type="name" placeholder="Username" name="username">
          </div>

          <div class="input-box" id="password">
            <span class="details">Password</span>
            <input type="name" placeholder="Password" name="password">
          </div>

          <div class="input-box" id="firstname">
            <span class="details">FirstName</span>
            <input type="name" placeholder="FirstName" name="firstname">
          </div>
          
          <div class="input-box" id="lastname">
            <span class="details">LastName</span>
            <input type="name" placeholder="LastName" name="lastname">
          </div>
        </div>

        <div style="display: flex; gap: 50px;">
        <div class="select-box" id="conditiontype">
            <select name="sconditiontype" id="sconditiontype" onchange="optionChanged()">
              <option hidden>Condition Type</option>
              <option value="Rain">Rain</option>
              <option value="Breeze">Breeze</option>
              <option value="Snow">Snow</option>
              <option value="Drizzle">Drizzle</option>
              <option value="Thunder">Thunder</option>
              <option value="Clouds">Cloudy</option>
              <option value="Clear Sky">Clear Sky</option>
            </select>
          </div>

          <div class="select-box" id="alerttype">
            <select name="salerttype">
              <option hidden>Alert Type</option>
              <option value="Flood">Flood</option>
              <option value="Warning">Warning</option>
              <option value="Earthquake">Earthquake</option>
            </select>
          </div>
        </div>
        <br>

        <div class="conditions">
            <div class="input-box" id="conditionexp">
                <span class="details">Condition Explanation</span>
                <input type="text" placeholder="Summary" name="conditionexp" >
              </div>
        </div>

        <br>
        <div class="conditions">
            <div class="input-box" id="alertdesc">
                <span class="details">Alert description</span>
                <input type="text" placeholder="Description of Alert" name="alertdes">
              </div>
        </div>

        <br>
        
        <div class="gender-details">
            <input type="radio" name="insertType" id="dot-1" value="Weather Details" checked>
            <input type="radio" name="insertType" id="dot-2" value="Forecast">
            <input type="radio" name="insertType" id="dot-3" value="Alerts">
            <input type="radio" name="insertType" id="dot-4" value="Conditions">
            <input type="radio" name="insertType" id="dot-5" value="Admin">
            <input type="radio" name="insertType" id="dot-6" value="Country">
            <input type="radio" name="insertType" id="dot-7" value="City">
            <span class="gender-title">Insert Type</span>
            <div class="category">
              <label for="dot-1">
                <span class="dot one"></span>
                <span class="gender">Weather Details</span>
              </label>
              <label for="dot-2">
                <span class="dot two"></span>
                <span class="gender">Forecast</span>
              </label>
              <label for="dot-3">
                <span class="dot three"></span>
                <span class="gender">Alerts</span>
              </label>
              <label for="dot-4">
                <span class="dot four"></span>
                <span class="gender">Conditions</span>
              </label>
              <label for="dot-5">
                <span class="dot five"></span>
                <span class="gender">Admin</span>
              </label>
              <label for="dot-6">
                <span class="dot six"></span>
                <span class="gender">Country</span>
              </label>
              <label for="dot-7">
                <span class="dot seven"></span>
                <span class="gender">City</span>
              </label>
            </div>
          </div>

        <div class="button">
          <input type="submit" value="Submit">
        </div>
      </form>
    </div>
  </div>

  <script>
    var action = "weatherdetails";
    document.addEventListener('DOMContentLoaded', function() {

      showeather();
    // Get all radio buttons with the name 'insertType'
    document.getElementById('submitform').addEventListener('submit', function(e) {
      e.preventDefault(); // Prevent the form from submitting the traditional way
      
      const formData = new FormData(this); // Capture form data

      // Make the fetch request to the PHP file
      fetch('popup.php', {
        method: 'POST',
        body: formData,
      })
      .then(response => response.text())
      .then(data => {
        // You can now handle the response from the PHP file here
        console.log(data); // For debugging, check what the server returns
        alert("Record Inserted Successfully!"); // Provide feedback to the user
      })
      .catch(error => {
        console.error('Error:', error);
        alert("Failed to Insert Record");
      });
    });

    const radioButtons = document.querySelectorAll('input[name="insertType"]');
    var selected = "";

    const checkedRadio = document.querySelector('input[name="insertType"]:checked');
    if (checkedRadio) {
        checkedRadio.dispatchEvent(new Event('change'));  // Trigger the event on page load
    }
    // Add event listeners to each radio button
    radioButtons.forEach(radio => {
      radio.addEventListener('change', function() {
        document.getElementById('humid').style.display = 'block';
        document.getElementById('temp').style.display = 'block';
        document.getElementById('cloud').style.display = 'block';
        document.getElementById('visible').style.display = 'block';
        document.getElementById('pressure').style.display = 'block';
        document.getElementById('cityid').style.display = 'block';
        document.getElementById('conditionid').style.display = 'block';
        document.getElementById('weatherid').style.display = 'block';
        document.getElementById('windspeed').style.display = 'block';
        document.getElementById('conditionexp').style.display = 'block';
        document.getElementById('alertdesc').style.display = 'block';
        document.getElementById('conditiontype').style.display = 'block';
        document.getElementById('alerttype').style.display = 'block';
        document.getElementById('date').style.display = 'block';
        document.getElementById('countryid').style.display = 'block';
        document.getElementById('cityname').style.display = 'block';
        document.getElementById('latitude').style.display = 'block';
        document.getElementById('longitude').style.display = 'block';
        document.getElementById('state').style.display = 'block';
        document.getElementById('countryname').style.display = 'block';
        document.getElementById('timeselect').style.display = 'block';
        document.getElementById('firstname').style.display = 'block';
        document.getElementById('lastname').style.display = 'block';
        document.getElementById('username').style.display = 'block';
        document.getElementById('password').style.display = 'block';
        action = this.value;
        document.getElementById('a').value = action;
        if (this.checked) {
          selected = this.value;
          console.log(selected == "Weather Details");
          if(selected == "Weather Details")
          {
            showeather();
          }
          else if(selected == "Conditions")
          {
            document.getElementById('humid').style.display = 'none';
        document.getElementById('temp').style.display = 'none';
        document.getElementById('cloud').style.display = 'none';
        document.getElementById('visible').style.display = 'none';
        document.getElementById('pressure').style.display = 'none';
        document.getElementById('cityid').style.display = 'none';
        document.getElementById('conditionid').style.display = 'none';
        document.getElementById('weatherid').style.display = 'none';
        document.getElementById('windspeed').style.display = 'none';
        document.getElementById('alerttype').style.display = 'none';
        document.getElementById('alertdesc').style.display = 'none';
        document.getElementById('date').style.display = 'none';
        document.getElementById('countryid').style.display = 'none';
        document.getElementById('cityname').style.display = 'none';
        document.getElementById('latitude').style.display = 'none';
        document.getElementById('longitude').style.display = 'none';
        document.getElementById('state').style.display = 'none';
        document.getElementById('countryname').style.display = 'none';
        document.getElementById('timeselect').style.display = 'none';
        document.getElementById('firstname').style.display = 'none';
        document.getElementById('lastname').style.display = 'none';
        document.getElementById('username').style.display = 'none';
        document.getElementById('password').style.display = 'none';
          }
          else if(selected == "Alerts")
          {
            document.getElementById('humid').style.display = 'none';
        document.getElementById('temp').style.display = 'none';
        document.getElementById('cloud').style.display = 'none';
        document.getElementById('visible').style.display = 'none';
        document.getElementById('pressure').style.display = 'none';
        document.getElementById('conditionid').style.display = 'none';
        document.getElementById('weatherid').style.display = 'none';
        document.getElementById('windspeed').style.display = 'none';
        document.getElementById('conditionexp').style.display = 'none';
        document.getElementById('conditiontype').style.display = 'none';
        document.getElementById('date').style.display = 'none';
        document.getElementById('countryid').style.display = 'none';
        document.getElementById('cityname').style.display = 'none';
        document.getElementById('latitude').style.display = 'none';
        document.getElementById('longitude').style.display = 'none';
        document.getElementById('state').style.display = 'none';
        document.getElementById('countryname').style.display = 'none';
        document.getElementById('timeselect').style.display = 'none';
        document.getElementById('firstname').style.display = 'none';
        document.getElementById('lastname').style.display = 'none';
        document.getElementById('username').style.display = 'none';
        document.getElementById('password').style.display = 'none';
          }
        else if(selected == "Forecast")
        {
          document.getElementById('humid').style.display = 'none';
        document.getElementById('temp').style.display = 'none';
        document.getElementById('cloud').style.display = 'none';
        document.getElementById('visible').style.display = 'none';
        document.getElementById('pressure').style.display = 'none';
        document.getElementById('alerttype').style.display = 'none';
        document.getElementById('alertdesc').style.display = 'none';
        document.getElementById('windspeed').style.display = 'none';
        document.getElementById('conditionexp').style.display = 'none';
        document.getElementById('conditiontype').style.display = 'none';
        document.getElementById('conditionid').style.display = 'none';
        document.getElementById('countryid').style.display = 'none';
        document.getElementById('cityname').style.display = 'none';
        document.getElementById('latitude').style.display = 'none';
        document.getElementById('longitude').style.display = 'none';
        document.getElementById('state').style.display = 'none';
        document.getElementById('countryname').style.display = 'none';
        document.getElementById('firstname').style.display = 'none';
        document.getElementById('lastname').style.display = 'none';
        document.getElementById('username').style.display = 'none';
        document.getElementById('password').style.display = 'none';
        }
        else if(selected == "Admin")
        {
          document.getElementById('humid').style.display = 'none';
        document.getElementById('temp').style.display = 'none';
        document.getElementById('cloud').style.display = 'none';
        document.getElementById('visible').style.display = 'none';
        document.getElementById('pressure').style.display = 'none';
        document.getElementById('alerttype').style.display = 'none';
        document.getElementById('alertdesc').style.display = 'none';
        document.getElementById('windspeed').style.display = 'none';
        document.getElementById('conditionexp').style.display = 'none';
        document.getElementById('conditiontype').style.display = 'none';
        document.getElementById('conditionid').style.display = 'none';
        document.getElementById('weatherid').style.display = 'none';
        document.getElementById('cityid').style.display = 'none';
        document.getElementById('countryid').style.display = 'none';
        document.getElementById('cityname').style.display = 'none';
        document.getElementById('latitude').style.display = 'none';
        document.getElementById('longitude').style.display = 'none';
        document.getElementById('state').style.display = 'none';
        document.getElementById('countryname').style.display = 'none';
        document.getElementById('timeselect').style.display = 'none';
        document.getElementById('date').style.display = 'none';
        }
        else if(selected == "Country")
        {
          document.getElementById('humid').style.display = 'none';
        document.getElementById('temp').style.display = 'none';
        document.getElementById('cloud').style.display = 'none';
        document.getElementById('visible').style.display = 'none';
        document.getElementById('pressure').style.display = 'none';
        document.getElementById('alerttype').style.display = 'none';
        document.getElementById('alertdesc').style.display = 'none';
        document.getElementById('windspeed').style.display = 'none';
        document.getElementById('conditionexp').style.display = 'none';
        document.getElementById('conditiontype').style.display = 'none';
        document.getElementById('cityid').style.display = 'none';
        document.getElementById('countryid').style.display = 'none';
        document.getElementById('cityname').style.display = 'none';
        document.getElementById('state').style.display = 'none';
        document.getElementById('conditionid').style.display = 'none';
        document.getElementById('weatherid').style.display = 'none';
        document.getElementById('date').style.display = 'none';
        document.getElementById('timeselect').style.display = 'none';
        document.getElementById('firstname').style.display = 'none';
        document.getElementById('lastname').style.display = 'none';
        document.getElementById('username').style.display = 'none';
        document.getElementById('password').style.display = 'none';
        }
        else if(selected == "City")
        {
          document.getElementById('humid').style.display = 'none';
        document.getElementById('temp').style.display = 'none';
        document.getElementById('cloud').style.display = 'none';
        document.getElementById('visible').style.display = 'none';
        document.getElementById('pressure').style.display = 'none';
        document.getElementById('alerttype').style.display = 'none';
        document.getElementById('alertdesc').style.display = 'none';
        document.getElementById('windspeed').style.display = 'none';
        document.getElementById('conditionexp').style.display = 'none';
        document.getElementById('conditiontype').style.display = 'none';
        document.getElementById('cityid').style.display = 'none';
        document.getElementById('longitude').style.display = 'none';
        document.getElementById('countryname').style.display = 'none';
        document.getElementById('latitude').style.display = 'none';
        document.getElementById('conditionid').style.display = 'none';
        document.getElementById('weatherid').style.display = 'none';
        document.getElementById('date').style.display = 'none';
        document.getElementById('timeselect').style.display = 'none';
        document.getElementById('firstname').style.display = 'none';
        document.getElementById('lastname').style.display = 'none';
        document.getElementById('username').style.display = 'none';
        document.getElementById('password').style.display = 'none';
        }
        }
      });
    });
  });

  function showeather()
  {
    document.getElementById('conditionexp').style.display = 'none';
            document.getElementById('alertdesc').style.display = 'none';
            document.getElementById('conditiontype').style.display = 'none';
            document.getElementById('alerttype').style.display = 'none';
            document.getElementById('date').style.display = 'none';
            document.getElementById('countryid').style.display = 'none';
        document.getElementById('cityname').style.display = 'none';
        document.getElementById('latitude').style.display = 'none';
        document.getElementById('longitude').style.display = 'none';
        document.getElementById('state').style.display = 'none';
        document.getElementById('countryname').style.display = 'none';
        document.getElementById('cityid').style.display = 'none';
        //document.getElementById('conditionid').style.display = 'none';
        document.getElementById('weatherid').style.display = 'none';
        document.getElementById('timeselect').style.display = 'none';
        document.getElementById('firstname').style.display = 'none';
        document.getElementById('lastname').style.display = 'none';
        document.getElementById('username').style.display = 'none';
        document.getElementById('password').style.display = 'none';
  }

  function optionChanged() {
    var selectedOption = document.getElementById("sconditiontype").value;
    var values = 0;
    switch(selectedOption)
    {
      case "Cloudy": values = 0;
      break;
      case "Rain" : values= 3;
      break;
      case "Breeze" : values = 1;
      break;
      case "Snow" : values = 2;
      break;
      case "Drizzle" : values = 4;
      break;
      case "Thunder" : values = 5;
      break;
      default : values=6;

    }
    document.getElementById('iconc').value = values;
}

  </script>

</body>
</html>
